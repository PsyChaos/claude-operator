# claude-operator

Runtime profile switching system for `CLAUDE.md`.

Production-safe, versioned, reproducible configuration management for Claude operating modes.

---

## ğŸš€ Why?

Managing multiple Claude operating styles across projects can become inconsistent and error-prone.

You may want:

* ğŸ›¡ **Senior Production mode** for infrastructure and stability-critical systems
* âš¡ **High Autonomy mode** for rapid iteration and reduced clarification loops
* ğŸ”¥ **Elite Hybrid mode** for production-grade autonomy with risk calibration

`claude-operator` allows deterministic switching between these modes across projects.

---

## ğŸ“¦ Features

* Centralized profile management
* Deterministic mode switching
* Remote profile fetching (GitHub raw)
* **Version pinning with SHA256 checksum verification**
* **Global CLI binary** (`claude-operator` on your PATH)
* **Self-update command** (`operator.sh update`)
* Makefile integration
* Semantic Versioning (SemVer)
* CI-friendly
* Reproducible team-wide behavior

---

## ğŸ“ Repository Structure

```
claude-operator/
â”‚
â”œâ”€â”€ profiles/
â”‚   â”œâ”€â”€ senior-production.md
â”‚   â”œâ”€â”€ high-autonomy.md
â”‚   â””â”€â”€ elite.md
â”‚
â”œâ”€â”€ operator.sh
â”œâ”€â”€ install.sh
â”œâ”€â”€ Makefile
â””â”€â”€ .github/workflows/release.yaml
```

---

## ğŸ”§ Installation

### One-line install (latest, no checksum)

```bash
curl -fsSL https://raw.githubusercontent.com/PsyChaos/claude-operator/main/install.sh | bash
```

### Pinned install with checksum verification (recommended)

```bash
curl -fsSL https://raw.githubusercontent.com/PsyChaos/claude-operator/main/install.sh \
  | bash -s -- --version v1.0.0
```

Downloads `operator.sh` from the GitHub Release and verifies its SHA256 checksum before installing.

### Global install (adds `claude-operator` to your PATH)

```bash
# Latest
curl -fsSL https://raw.githubusercontent.com/PsyChaos/claude-operator/main/install.sh \
  | bash -s -- --global

# Pinned + verified (recommended)
curl -fsSL https://raw.githubusercontent.com/PsyChaos/claude-operator/main/install.sh \
  | bash -s -- --global --version v1.0.0
```

Installs to `~/.local/bin/claude-operator`. If `~/.local/bin` is not in your `$PATH`, the installer will print the line to add to your shell profile.

### Local install flags (direct invocation)

```bash
bash install.sh [--version v1.2.3] [--global]
```

| Flag | Description |
|------|-------------|
| `--version v1.0.0` | Pin to a release and verify SHA256 checksum |
| `--global` | Install to `~/.local/bin` for global PATH access |

---

## ğŸ§  Usage

### Switch profile

```bash
make claude MODE=elite
```

```bash
./operator.sh elite
```

```bash
claude-operator elite          # after global install
```

### Switch profile (pinned to a specific release)

```bash
make claude MODE=elite VERSION=v1.0.0
```

```bash
./operator.sh elite v1.0.0
```

### List available profiles

```bash
make list
```

### Show current mode

```bash
make current
```

### Self-update to latest release

```bash
./operator.sh update
```

```bash
make update
```

```bash
claude-operator update         # after global install
```

Queries the GitHub Releases API, compares the current version, downloads the new binary, verifies its SHA256
checksum, and atomically replaces itself. No manual steps required.

---

## ğŸŒ Remote Profile Source

Profiles are fetched from:

```
https://raw.githubusercontent.com/PsyChaos/claude-operator/<ref>/profiles/
```

When a `VERSION` is supplied, profiles are fetched from that release tag's ref, ensuring the profile content
matches exactly what was shipped with that version.

---

## ğŸ”’ Security

Release assets (`operator.sh`, `install.sh`) are accompanied by SHA256 checksum files
(`operator.sh.sha256`, `install.sh.sha256`) generated by CI and attached to every GitHub Release.

When installing with `--version`, checksums are fetched from the release and verified before any file is
written to disk. A mismatch aborts the install and removes all temporary files.

Pinned installs are strongly recommended for:
* Team environments where reproducibility matters
* CI/CD pipelines that pull `operator.sh` as a dependency
* Any environment where supply-chain integrity is a concern

---

## ğŸ· Versioning

This project follows **Semantic Versioning**.

```
vMAJOR.MINOR.PATCH
```

| Bump | Reason |
|------|--------|
| MAJOR | Breaking behavioral change |
| MINOR | New profile or feature |
| PATCH | Fixes / documentation updates |

Initial release: `v1.0.0`

---

## ğŸ§ª Philosophy

Claude configuration is infrastructure.

It should be:

* Versioned
* Explicit
* Reproducible
* Intentional

---

## ğŸ¤ Contributing

If adding a new profile:

* Keep structural consistency
* Document behavioral philosophy clearly
* Update README
* Bump MINOR version

---

## ğŸ“œ License

MIT

---

## ğŸ‘¤ Author

PsyChaos
